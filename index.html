<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visbord Family Dashboard</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ </text></svg>">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="tabs">
        <button class="tab active" data-page="grandma">ğŸ‘µ Grandma Countdown</button>
        <button class="tab" data-page="routines">â° Routines</button>
        <button class="tab" data-page="todos">ğŸ“‹ TODOs</button>
        <button class="tab" data-page="game">ğŸ® Capybara Game</button>
        <button class="tab" data-page="warmup">ğŸ‹ï¸ Warm-Up</button>
        <button class="tab" data-page="math-game">ğŸ“ Math Adventure</button>
    </nav>

    <div class="content">
        <!-- Grandma Countdown Page -->
        <div id="grandma" class="page active">
            <h2 class="countdown-page-title">Grandmas are coming!</h2>
            <div class="grandmas-container">
                <!-- Grandma Ayelet -->
                <div class="countdown-card ayelet">
                    <div class="countdown-emoji">ğŸ‘µ</div>
                    <div class="countdown-title">×¡×‘×ª× ××™×œ×ª ××’×™×¢×”!</div>
                    <div class="countdown-subtitle">Grandma Ayelet is coming!</div>
                    <div class="countdown-number" id="days-ayelet">--</div>
                    <div class="countdown-label">days to go</div>
                    <div class="countdown-date">January 28, 2026</div>
                </div>

                <!-- Grandma Orly -->
                <div class="countdown-card orly">
                    <div class="countdown-emoji">ğŸ‘µ</div>
                    <div class="countdown-title">×¡×‘×ª× ××•×¨×œ×™ ××’×™×¢×”!</div>
                    <div class="countdown-subtitle">Grandma Orly is coming!</div>
                    <div class="countdown-number" id="days-orly">--</div>
                    <div class="countdown-label">days to go</div>
                    <div class="countdown-date">April 16, 2026</div>
                </div>
            </div>
        </div>

        <!-- Routines Timer Page -->
        <div id="routines" class="page">
            <div class="routine-container" id="routine-container">
                <div class="routine-icon" id="routine-icon">â°</div>
                <h2 class="routine-title" id="routine-title">Loading...</h2>
                <div class="routine-timer">
                    <span class="routine-minutes" id="routine-minutes">--</span>
                    <span class="routine-label" id="routine-label">minutes</span>
                </div>
                <div class="routine-target" id="routine-target"></div>
                <div class="routine-message" id="routine-message" style="display: none;"></div>
            </div>
        </div>

        <!-- TODOs Page (dynamically loaded) -->
        <div id="todos" class="page">
            <div id="todos-content" class="loading">Loading tasks...</div>
            <button class="refresh-btn" onclick="loadTasks()">ğŸ”„ Refresh</button>
            <div class="last-updated" id="last-updated"></div>
        </div>

        <!-- Capybara Game Page -->
        <div id="game" class="page">
            <div class="game-container">
                <div class="game-header">
                    <div class="game-score">Score: <span id="score">0</span></div>
                    <div class="game-high-score">Best: <span id="high-score">0</span></div>
                </div>
                <canvas id="game-canvas" width="800" height="400"></canvas>
                <div class="game-instructions">
                    Press <kbd>SPACE</kbd> or <kbd>Click</kbd> to jump!
                </div>
                <div id="game-overlay" class="game-overlay">
                    <div class="overlay-content">
                        <div class="overlay-title">ğŸŠ Capybara River Run ğŸŒ´</div>
                        <div class="overlay-subtitle">Amazon Adventure!</div>
                        <div class="overlay-text" id="overlay-text">Help the capybara swim through the Amazon river!<br>Avoid dangerous creatures!</div>
                        <button class="game-btn" id="start-btn">Start Game</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Warm-Up Calculator Page -->
        <div id="warmup" class="page">
            <div class="warmup-container">
                <div class="warmup-header">
                    <h1>ğŸ‹ï¸ Warm-Up Calculator</h1>
                    <p class="warmup-tagline">Get strong, stay safe!</p>
                </div>

                <!-- Target Weight Input -->
                <div class="warmup-input-section">
                    <label for="target-weight">Target Work Weight</label>
                    <div class="weight-input-group">
                        <button class="weight-adjust" id="weight-down">âˆ’</button>
                        <input type="number" id="target-weight" value="135" min="35" step="5">
                        <button class="weight-adjust" id="weight-up">+</button>
                        <span class="weight-unit">lbs</span>
                    </div>
                    <button class="calculate-btn" id="calculate-warmup">Calculate Warm-Up</button>
                </div>

                <!-- Warm-Up Sets Display -->
                <div class="warmup-sets" id="warmup-sets">
                    <div class="warmup-placeholder">
                        <p>Enter your target weight and hit calculate!</p>
                        <p class="warmup-quote">"The only bad workout is the one that didn't happen."</p>
                    </div>
                </div>

                <!-- Plate Configuration -->
                <div class="plate-config-section">
                    <button class="config-toggle" id="config-toggle">
                        âš™ï¸ My Plates <span class="toggle-arrow">â–¼</span>
                    </button>
                    <div class="plate-config" id="plate-config">
                        <h3>Standard Plates (per side)</h3>
                        <div class="plate-grid" id="standard-plates">
                            <!-- Generated by JS -->
                        </div>
                        <h3>Micro Plates (per side)</h3>
                        <div class="plate-grid" id="micro-plates">
                            <!-- Generated by JS -->
                        </div>
                        <h3>Bar Weight</h3>
                        <div class="bar-config">
                            <button class="plate-adjust" data-bar="-5">âˆ’</button>
                            <span id="bar-weight-display">35</span>
                            <span class="weight-unit">lbs</span>
                            <button class="plate-adjust" data-bar="+5">+</button>
                        </div>
                        <button class="save-config-btn" id="save-config">Save Configuration</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Math Adventure Game Page -->
        <div id="math-game" class="page">
            <div class="math-game-container">
                <div id="math-game-ui"></div>
                <canvas id="math-game-canvas" width="800" height="400"></canvas>
                <div id="math-puzzle-dialog" class="hidden"></div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <!-- Math Game - Modular Files (load order matters for dependencies) -->
    <script src="math-game-data.js"></script>
    <script src="math-game-storage.js"></script>
    <script src="math-game-audio.js"></script>
    <script src="math-game-profiles.js"></script>
    <script src="math-game-levels.js"></script>
    <script src="math-game-engine.js"></script>
    <script src="math-game-puzzle.js"></script>
    <script src="math-game-ui.js"></script>
    <script src="math-game-main.js"></script>
</body>
</html>
